{% extends 'amazing.html.twig' %}

{% block title %}Amazing Sciences{% endblock %}

{% block body %}

        <!--MAIN CONTENT-->
       {# <main class="flex flex-col"> #}
            {#  <div   class="embed-responsive embed-responsive-21by9 relative w-full md:mb-2 sm:mb-2 overflow-hidden" style="padding-top: 42.857143%">
                    <iframe class="embed-responsive-item absolute top-0 right-0 bottom-0 left-0 w-full h-full" src="https://www.youtube.com/embed/R5SD0JtvBDo?" frameborder="0" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
            </div>
            #}
<div style="background-image: url(https://images4.alphacoders.com/106/106826.jpg); background-size:cover;">

    <div id="carouselExampleCaptions" class="carousel slide relative max-w-md md:max-w-2xl mx-auto sticky top-[130px] mb-5" data-bs-ride="carousel">
        <div class="carousel-indicators absolute right-0 bottom-0 left-0 flex justify-center p-0 mb-4">
            <button
            type="button"
            data-bs-target="#carouselExampleCaptions"
            data-bs-slide-to="0"
            class="active"
            aria-current="true"
            aria-label="Slide 1">
            </button>
            <button
            type="button"
            data-bs-target="#carouselExampleCaptions"
            data-bs-slide-to="1"
            aria-label="Slide 2">
            </button>
            <button
            type="button"
            data-bs-target="#carouselExampleCaptions"
            data-bs-slide-to="2"
            aria-label="Slide 3">
            </button>
        </div>
        <div class="carousel-inner relative w-full overflow-hidden">
            {% set a=0 %}
            {% for slide in slides %}
                {% set a=a+1 %}
                <div class="carousel-item relative {{ (a==1)?'active':"" }} float-left w-full" style="background-image: url({{ asset(slide.image) }}); background-size:cover; height:300px">
                    {#  <img
                        src="{{ asset('Amazing/images/accueil1bis.jpg') }}"
                        class="block w-full"
                        alt="..."/> #}
                    <div class="carousel-caption absolute ssyssmd:block text-center">
                        <a href="{{ path('post_view', {slug: slide.slug}) }}">
                            <h2 class="text-3xl">{{ slide.title }}</h2>
                        </a>
                    </div>
                </div>
            {% endfor %}
            {#
            <div class="carousel-item relative float-left w-full">
            <img
                src="{{ asset('Amazing/images/accueil2bis.jpg') }}"
                class="block w-full"
                alt="..."/>
            <div class="carousel-caption hidden md:block absolute text-center">
                <h5 class="text-xl">Second slide label</h5>
                <p>Some representative placeholder content for the second slide.</p>
            </div>
            </div>
            <div class="carousel-item relative float-left w-full">
            <img
                src="{{ asset('Amazing/images/accueil3bis.jpg') }}"
                class="block w-full"
                alt="..."/>
            <div class="carousel-caption hidden md:block absolute text-center">
                <h5 class="text-xl">Third slide label</h5>
                <p>Some representative placeholder content for the third slide.</p>
            </div>
            </div>
            #}
        </div>
        <button
            class="carousel-control-prev absolute top-0 bottom-0 flex items-center justify-center p-0 text-center border-0 hover:outline-none hover:no-underline focus:outline-none focus:no-underline left-0"
            type="button"
            data-bs-target="#carouselExampleCaptions"
            data-bs-slide="prev">
            <span class="carousel-control-prev-icon inline-block bg-no-repeat" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button
            class="carousel-control-next absolute top-0 bottom-0 flex items-center justify-center p-0 text-center border-0 hover:outline-none hover:no-underline focus:outline-none focus:no-underline right-0"
            type="button"
            data-bs-target="#carouselExampleCaptions"
            data-bs-slide="next"
        >
            <span class="carousel-control-next-icon inline-block bg-no-repeat" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>


            {#
            <div class="md:flex md:flex-wrap">
                <div class="w-full md:w-1/2 xl:w-1/3 xl:order-2">
                        <a href="#"><img src="{{ asset('Amazing/images/accueil1bis.jpg') }}" alt="" class="w-full"></a>
                </div>  
                <div class="text-white text-3xl bg-gradient-to-r from-blue-500 to-blue-900 w-full xl:mb-2 xl:mt-2 flex flex-col items-center md:w-1/2 md:justify-center xl:w-full">
                Les derniers articles
                </div>
                <div class="w-full md:w-1/2  xl:w-1/3 xl:order-3">
                    <img src="{{ asset('Amazing/images/accueil2bis.jpg') }}" alt="" class="w-full">
                </div>
                <div class="w-full md:w-1/2 xl:w-1/3 xl:order-4">  
                    <img src="{{ asset('Amazing/images/accueil3bis.jpg') }}" alt="" class="w-full">
                </div>
            </div>
            #}

    <div class="text-white text-3xl text-center bg-gradient-to-r from-blue-500 to-blue-900 rounded-md font-semibold py-2 max-w-md mx-auto xl:mb-2 xl:mt-2 md:max-w-2xl md:justify-center xl:w-full sticky top-[347px] md:top-[450px]">
                Les derniers articles
    </div>

            <!-- articles test -->
    {% for post in posts %}

        <div class="max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden md:max-w-2xl mb-5 mt-8">
            <div class="md:flex">
                <div class="md:shrink-0">
                    <img class="h-48 w-full object-cover md:h-full md:w-48" src="{{ post.image }}" alt="">
                </div>
                <div class="p-8">
                    <a href="{{ path('post_view', {slug: post.slug}) }}">
                        <div class="uppercase tracking-wide text-xl text-blue-800 font-semibold">
                        {{ post.title }}
                        </div>
                        <p class="mt-2 text-slate-700">
                        {{ post.content | u.truncate(150, '...') | raw }}  {# | raw , |date, etc sont des filtres twig #}
                        </p>
                    </a>
                    <div class="text-slate-500">
                        Rédigé par
                        {{ post.user.email }} {# on peut ici faire réf à user ET email grâce aux relations entre entités #}
                        le {{ post.createdAt | date('d/m/Y') }}
                        à {{ post.createdAt | date('H:i') }}
                        - classé dans {{ post.category.name }}
                    </div>
                </div>
            </div>
        </div>

     {#  techniquement la vue correspond à "reponse" (cf controller) #}   

    {% endfor %}
</div>
            

{% endblock %}
